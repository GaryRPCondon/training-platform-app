table_name,column_name,data_type,column_default,is_nullable
activities,id,integer,nextval('activities_id_seq'::regclass),NO
activities,athlete_id,uuid,null,NO
activities,garmin_id,bigint,null,YES
activities,strava_id,bigint,null,YES
activities,source,text,null,NO
activities,activity_name,text,null,YES
activities,activity_type,text,null,YES
activities,start_time,timestamp with time zone,null,NO
activities,distance_meters,double precision,null,YES
activities,duration_seconds,double precision,null,YES
activities,moving_duration_seconds,double precision,null,YES
activities,elevation_gain_meters,double precision,null,YES
activities,elevation_loss_meters,double precision,null,YES
activities,avg_hr,integer,null,YES
activities,max_hr,integer,null,YES
activities,min_hr,integer,null,YES
activities,avg_power,double precision,null,YES
activities,max_power,double precision,null,YES
activities,normalized_power,double precision,null,YES
activities,avg_cadence,double precision,null,YES
activities,max_cadence,double precision,null,YES
activities,calories,integer,null,YES
activities,perceived_effort,integer,null,YES
activities,notes,text,null,YES
activities,planned_workout_id,integer,null,YES
activities,garmin_data,jsonb,null,YES
activities,strava_data,jsonb,null,YES
activities,synced_from_garmin,timestamp with time zone,null,YES
activities,synced_from_strava,timestamp with time zone,null,YES
activities,created_at,timestamp with time zone,now(),YES
activity_streams,id,integer,nextval('activity_streams_id_seq'::regclass),NO
activity_streams,activity_id,integer,null,NO
activity_streams,stream_type,text,null,NO
activity_streams,data,jsonb,null,NO
activity_streams,created_at,timestamp with time zone,now(),YES
athlete_constraints,id,integer,nextval('athlete_constraints_id_seq'::regclass),NO
athlete_constraints,athlete_id,uuid,null,YES
athlete_constraints,constraint_type,text,null,NO
athlete_constraints,constraint_data,jsonb,null,NO
athlete_constraints,active,boolean,true,YES
athlete_constraints,created_from_chat_id,integer,null,YES
athlete_constraints,created_at,timestamp with time zone,now(),YES
athlete_constraints,updated_at,timestamp with time zone,now(),YES
athlete_goals,id,integer,nextval('athlete_goals_id_seq'::regclass),NO
athlete_goals,athlete_id,uuid,null,NO
athlete_goals,goal_type,text,null,NO
athlete_goals,goal_name,text,null,NO
athlete_goals,target_date,date,null,YES
athlete_goals,target_value,jsonb,null,YES
athlete_goals,status,text,'active'::text,YES
athlete_goals,priority,integer,1,YES
athlete_goals,created_at,timestamp with time zone,now(),YES
athlete_goals,completed_at,timestamp with time zone,null,YES
athlete_integrations,id,integer,nextval('athlete_integrations_id_seq'::regclass),NO
athlete_integrations,athlete_id,uuid,null,YES
athlete_integrations,platform,text,null,NO
athlete_integrations,platform_athlete_id,text,null,YES
athlete_integrations,access_token_encrypted,text,null,YES
athlete_integrations,refresh_token_encrypted,text,null,YES
athlete_integrations,token_expires_at,timestamp with time zone,null,YES
athlete_integrations,connected_at,timestamp with time zone,now(),YES
athlete_integrations,last_synced_at,timestamp with time zone,null,YES
athlete_integrations,access_token,text,null,YES
athlete_integrations,refresh_token,text,null,YES
athlete_integrations,scope,text,null,YES
athlete_profile_summary,athlete_id,uuid,null,YES
athlete_profile_summary,name,text,null,YES
athlete_profile_summary,date_of_birth,date,null,YES
athlete_profile_summary,preferred_units,text,null,YES
athlete_profile_summary,total_activities,bigint,null,YES
athlete_profile_summary,first_activity_date,timestamp with time zone,null,YES
athlete_profile_summary,recent_long_run_distance,double precision,null,YES
athlete_profile_summary,active_constraints,json,null,YES
athletes,id,uuid,gen_random_uuid(),NO
athletes,email,text,null,NO
athletes,name,text,null,YES
athletes,date_of_birth,date,null,YES
athletes,gender,text,null,YES
athletes,max_hr,integer,null,YES
athletes,resting_hr,integer,null,YES
athletes,threshold_pace,double precision,null,YES
athletes,threshold_power,double precision,null,YES
athletes,vo2_max,double precision,null,YES
athletes,preferred_units,text,'metric'::text,YES
athletes,timezone,text,null,YES
athletes,garmin_connected,boolean,false,YES
athletes,strava_connected,boolean,false,YES
athletes,created_at,timestamp with time zone,now(),YES
athletes,updated_at,timestamp with time zone,now(),YES
athletes,preferred_llm_provider,text,'gemini'::text,YES
athletes,preferred_llm_model,text,null,YES
chat_history_with_provider,id,integer,null,YES
chat_history_with_provider,session_id,integer,null,YES
chat_history_with_provider,athlete_id,uuid,null,YES
chat_history_with_provider,role,text,null,YES
chat_history_with_provider,content,text,null,YES
chat_history_with_provider,provider,text,null,YES
chat_history_with_provider,model,text,null,YES
chat_history_with_provider,token_usage,jsonb,null,YES
chat_history_with_provider,created_at,timestamp with time zone,null,YES
chat_history_with_provider,session_type,text,null,YES
chat_history_with_provider,weekly_plan_id,integer,null,YES
chat_messages,id,integer,nextval('chat_messages_id_seq'::regclass),NO
chat_messages,session_id,integer,null,NO
chat_messages,role,text,null,NO
chat_messages,content,text,null,NO
chat_messages,action_taken,jsonb,null,YES
chat_messages,metadata,jsonb,null,YES
chat_messages,created_at,timestamp with time zone,now(),YES
chat_messages,provider,text,null,YES
chat_messages,model,text,null,YES
chat_messages,token_usage,jsonb,null,YES
chat_sessions,id,integer,nextval('chat_sessions_id_seq'::regclass),NO
chat_sessions,athlete_id,uuid,null,NO
chat_sessions,session_type,text,null,NO
chat_sessions,weekly_plan_id,integer,null,YES
chat_sessions,specific_workout_id,integer,null,YES
chat_sessions,context,jsonb,null,YES
chat_sessions,started_at,timestamp with time zone,now(),YES
chat_sessions,ended_at,timestamp with time zone,null,YES
health_metrics,id,integer,nextval('health_metrics_id_seq'::regclass),NO
health_metrics,athlete_id,uuid,null,NO
health_metrics,date,date,null,NO
health_metrics,sleep_score,integer,null,YES
health_metrics,sleep_duration_minutes,integer,null,YES
health_metrics,resting_hr,integer,null,YES
health_metrics,hrv,double precision,null,YES
health_metrics,body_battery,integer,null,YES
health_metrics,stress_avg,integer,null,YES
health_metrics,readiness_score,integer,null,YES
health_metrics,steps,integer,null,YES
health_metrics,weight_kg,double precision,null,YES
health_metrics,raw_data,jsonb,null,YES
health_metrics,created_at,timestamp with time zone,now(),YES
laps,id,integer,nextval('laps_id_seq'::regclass),NO
laps,activity_id,integer,null,NO
laps,lap_index,integer,null,NO
laps,distance_meters,double precision,null,YES
laps,duration_seconds,double precision,null,YES
laps,avg_hr,integer,null,YES
laps,max_hr,integer,null,YES
laps,avg_power,double precision,null,YES
laps,avg_pace,double precision,null,YES
laps,elevation_gain_meters,double precision,null,YES
laps,raw_data,jsonb,null,YES
phase_progress,id,integer,nextval('phase_progress_id_seq'::regclass),NO
phase_progress,phase_id,integer,null,NO
phase_progress,week_number,integer,null,NO
phase_progress,planned_volume_km,double precision,null,YES
phase_progress,actual_volume_km,double precision,null,YES
phase_progress,volume_gap_km,double precision,null,YES
phase_progress,planned_workouts_by_type,jsonb,null,YES
phase_progress,actual_workouts_by_type,jsonb,null,YES
phase_progress,missing_workout_types,jsonb,null,YES
phase_progress,gap_severity,text,null,YES
phase_progress,catch_up_possible,boolean,null,YES
phase_progress,computed_at,timestamp with time zone,now(),YES
plan_adjustments,id,integer,nextval('plan_adjustments_id_seq'::regclass),NO
plan_adjustments,athlete_id,uuid,null,NO
plan_adjustments,weekly_plan_id,integer,null,YES
plan_adjustments,adjustment_reason,text,null,NO
plan_adjustments,original_workout_id,integer,null,YES
plan_adjustments,adjustment_type,text,null,NO
plan_adjustments,agent_recommended,boolean,false,YES
plan_adjustments,adjusted_at,timestamp with time zone,now(),YES
plan_adjustments,notes,text,null,YES
plan_adjustments,title,text,null,YES
plan_adjustments,description,text,null,YES
plan_adjustments,rationale,text,null,YES
plan_adjustments,impact,text,null,YES
plan_adjustments,affected_workout_ids,ARRAY,null,YES
plan_adjustments,status,text,'pending'::text,YES
plan_adjustments,applied_at,timestamp with time zone,null,YES
planned_workouts,id,integer,nextval('planned_workouts_id_seq'::regclass),NO
planned_workouts,weekly_plan_id,integer,null,YES
planned_workouts,athlete_id,uuid,null,NO
planned_workouts,scheduled_date,date,null,NO
planned_workouts,scheduled_time,time without time zone,null,YES
planned_workouts,workout_type,text,null,NO
planned_workouts,description,text,null,YES
planned_workouts,distance_target_meters,double precision,null,YES
planned_workouts,duration_target_seconds,integer,null,YES
planned_workouts,intensity_target,text,null,YES
planned_workouts,structured_workout,jsonb,null,YES
planned_workouts,status,text,'scheduled'::text,YES
planned_workouts,completed_activity_id,integer,null,YES
planned_workouts,agent_rationale,text,null,YES
planned_workouts,agent_decision_metadata,jsonb,null,YES
planned_workouts,notes,text,null,YES
planned_workouts,version,integer,1,YES
planned_workouts,created_at,timestamp with time zone,now(),YES
planned_workouts,updated_at,timestamp with time zone,now(),YES
sync_log,id,integer,nextval('sync_log_id_seq'::regclass),NO
sync_log,athlete_id,uuid,null,NO
sync_log,source,text,null,NO
sync_log,sync_type,text,null,NO
sync_log,last_synced_at,timestamp with time zone,null,NO
sync_log,records_fetched,integer,null,YES
sync_log,status,text,null,NO
sync_log,error_message,text,null,YES
sync_log,created_at,timestamp with time zone,now(),YES
training_phases,id,integer,nextval('training_phases_id_seq'::regclass),NO
training_phases,plan_id,integer,null,NO
training_phases,phase_name,text,null,NO
training_phases,phase_order,integer,null,NO
training_phases,start_date,date,null,NO
training_phases,end_date,date,null,NO
training_phases,weekly_volume_target,double precision,null,YES
training_phases,max_weekly_volume,double precision,null,YES
training_phases,max_long_run_distance,double precision,null,YES
training_phases,intensity_distribution,jsonb,null,YES
training_phases,scheduling_preferences,jsonb,null,YES
training_phases,description,text,null,YES
training_plans,id,integer,nextval('training_plans_id_seq'::regclass),NO
training_plans,athlete_id,uuid,null,NO
training_plans,goal_id,integer,null,YES
training_plans,name,text,null,NO
training_plans,start_date,date,null,NO
training_plans,end_date,date,null,NO
training_plans,plan_type,text,null,YES
training_plans,status,text,'draft'::text,YES
training_plans,created_by,text,null,YES
training_plans,created_at,timestamp with time zone,now(),YES
training_plans,updated_at,timestamp with time zone,now(),YES
weekly_plans,id,integer,nextval('weekly_plans_id_seq'::regclass),NO
weekly_plans,phase_id,integer,null,YES
weekly_plans,athlete_id,uuid,null,NO
weekly_plans,week_start_date,date,null,NO
weekly_plans,week_number,integer,null,YES
weekly_plans,weekly_volume_target,double precision,null,YES
weekly_plans,weekly_load_target,integer,null,YES
weekly_plans,status,text,'planned'::text,YES
weekly_plans,agent_rationale,text,null,YES
weekly_plans,agent_decision_metadata,jsonb,null,YES
weekly_plans,notes,text,null,YES
weekly_plans,created_at,timestamp with time zone,now(),YES
weekly_plans,updated_at,timestamp with time zone,now(),YES
workout_feedback,id,integer,nextval('workout_feedback_id_seq'::regclass),NO
workout_feedback,athlete_id,uuid,null,NO
workout_feedback,planned_workout_id,integer,null,YES
workout_feedback,activity_id,integer,null,YES
workout_feedback,felt_difficulty,integer,null,YES
workout_feedback,compared_to_plan,text,null,YES
workout_feedback,injury_concern,boolean,false,YES
workout_feedback,injury_description,text,null,YES
workout_feedback,fatigue_level,integer,null,YES
workout_feedback,sleep_quality,integer,null,YES
workout_feedback,what_worked_well,text,null,YES
workout_feedback,what_didnt_work,text,null,YES
workout_feedback,feedback_text,text,null,YES
workout_feedback,created_at,timestamp with time zone,now(),YES
workout_flags,id,integer,nextval('workout_flags_id_seq'::regclass),NO
workout_flags,planned_workout_id,integer,null,YES
workout_flags,activity_id,integer,null,YES
workout_flags,flag_type,text,null,NO
workout_flags,severity,text,null,NO
workout_flags,flag_data,jsonb,null,NO
workout_flags,acknowledged,boolean,false,YES
workout_flags,created_at,timestamp with time zone,now(),YES
workout_flags,athlete_id,uuid,null,YES